import { BriefcaseIcon, InformationCircleIcon, MailIcon, ShieldCheckIcon } from '@heroicons/react/solid'
import { AnimateSharedLayout, motion } from 'framer-motion'
import smoothscroll from 'smoothscroll-polyfill'

const scrollTo = (to) => { smoothscroll.polyfill(), document.querySelector(`section[name="${to}"]`).scrollIntoView({ behavior: 'smooth' }) }

function NavItem({ icon, name, active }) {
    return (
        <motion.a
            className={`flex relative items-center py-3 px-4 text-xl text-gray-700 cursor-pointer select-none ${name === active && "text-rose-500"}`}
            onClick={() => scrollTo(name)}
            whileTap={{ scale: .9 }}
        >
            {name === active && (
                <motion.div
                    layoutId="underline"
                    className="absolute bottom-0 left-0 w-full h-2 bg-rose-500 rounded-full border-b-4 border-rose-500 md:bottom-2"
                />
            )}

            <p className="hidden font-bold duration-500 md:block">
                {name}
            </p>

            <div className="block w-5 h-5 duration-500 md:hidden">
                {icon}
            </div>
        </motion.a>
    )
}

export default function Navbar({ active }) {
    return (
        <nav className="fixed bottom-0 z-50 p-4 w-full md:h-auto md:top-0 md:bottom-auto">
            <div className="flex overflow-x-auto justify-between p-2 mx-auto w-full max-w-screen-2xl rounded-md shadow-md bg-white/70 backdrop-blur-2xl md:px-4 md:py-3">
                <AnimateSharedLayout>
                    <motion.a className="flex relative items-center py-3 px-4 cursor-pointer select-none" onClick={() => scrollTo("Hero")} whileTap={{ scale: .95 }}>
                        <svg viewBox="0 0 244 39" fill="none" className="hidden z-10 h-8 translate-y-0.5 md:block">
                            <path d="M10.227 29.2517C8.47503 29.2517 6.89103 28.9517 5.47503 28.3517C4.08303 27.7517 2.97903 26.8877 2.16303 25.7597C1.34703 24.6317 0.927032 23.2997 0.903032 21.7637H6.30303C6.37503 22.7957 6.73503 23.6117 7.38303 24.2117C8.05503 24.8117 8.96703 25.1117 10.119 25.1117C11.295 25.1117 12.219 24.8357 12.891 24.2837C13.563 23.7077 13.899 22.9637 13.899 22.0517C13.899 21.3077 13.671 20.6957 13.215 20.2157C12.759 19.7357 12.183 19.3637 11.487 19.0997C10.815 18.8117 9.87903 18.4997 8.67903 18.1637C7.04703 17.6837 5.71503 17.2157 4.68303 16.7597C3.67503 16.2797 2.79903 15.5717 2.05503 14.6357C1.33503 13.6757 0.975032 12.4037 0.975032 10.8197C0.975032 9.33169 1.34703 8.03569 2.09103 6.93169C2.83503 5.82769 3.87903 4.98769 5.22303 4.41169C6.56703 3.81169 8.10303 3.51169 9.83103 3.51169C12.423 3.51169 14.523 4.14769 16.131 5.41969C17.763 6.66769 18.663 8.41969 18.831 10.6757H13.287C13.239 9.81169 12.867 9.10369 12.171 8.55169C11.499 7.97569 10.599 7.68769 9.47103 7.68769C8.48703 7.68769 7.69503 7.93969 7.09503 8.44369C6.51903 8.94769 6.23103 9.67969 6.23103 10.6397C6.23103 11.3117 6.44703 11.8757 6.87903 12.3317C7.33503 12.7637 7.88703 13.1237 8.53503 13.4117C9.20703 13.6757 10.143 13.9877 11.343 14.3477C12.975 14.8277 14.307 15.3077 15.339 15.7877C16.371 16.2677 17.259 16.9877 18.003 17.9477C18.747 18.9077 19.119 20.1677 19.119 21.7277C19.119 23.0717 18.771 24.3197 18.075 25.4717C17.379 26.6237 16.359 27.5477 15.015 28.2437C13.671 28.9157 12.075 29.2517 10.227 29.2517ZM41.6685 18.5957C41.6685 19.3157 41.6205 19.9637 41.5245 20.5397H26.9445C27.0645 21.9797 27.5685 23.1077 28.4565 23.9237C29.3445 24.7397 30.4365 25.1477 31.7325 25.1477C33.6045 25.1477 34.9365 24.3437 35.7285 22.7357H41.1645C40.5885 24.6557 39.4845 26.2397 37.8525 27.4877C36.2205 28.7117 34.2165 29.3237 31.8405 29.3237C29.9205 29.3237 28.1925 28.9037 26.6565 28.0637C25.1445 27.1997 23.9565 25.9877 23.0925 24.4277C22.2525 22.8677 21.8325 21.0677 21.8325 19.0277C21.8325 16.9637 22.2525 15.1517 23.0925 13.5917C23.9325 12.0317 25.1085 10.8317 26.6205 9.99169C28.1325 9.15169 29.8725 8.73169 31.8405 8.73169C33.7365 8.73169 35.4285 9.13969 36.9165 9.95569C38.4285 10.7717 39.5925 11.9357 40.4085 13.4477C41.2485 14.9357 41.6685 16.6517 41.6685 18.5957ZM36.4485 17.1557C36.4245 15.8597 35.9565 14.8277 35.0445 14.0597C34.1325 13.2677 33.0165 12.8717 31.6965 12.8717C30.4485 12.8717 29.3925 13.2557 28.5285 14.0237C27.6885 14.7677 27.1725 15.8117 26.9805 17.1557H36.4485ZM50.0273 12.1517C50.6753 11.0957 51.5153 10.2677 52.5473 9.66769C53.6033 9.06769 54.8033 8.76769 56.1473 8.76769V14.0597H54.8153C53.2313 14.0597 52.0313 14.4317 51.2153 15.1757C50.4233 15.9197 50.0273 17.2157 50.0273 19.0637V28.9997H44.9873V9.05569H50.0273V12.1517ZM87.91 9.05569L82.078 28.9997H76.642L73.006 15.0677L69.37 28.9997H63.898L58.03 9.05569H63.142L66.67 24.2477L70.486 9.05569H75.814L79.558 24.2117L83.086 9.05569H87.91ZM93.553 6.67969C92.665 6.67969 91.921 6.40369 91.321 5.85169C90.745 5.27569 90.457 4.56769 90.457 3.72769C90.457 2.88769 90.745 2.19169 91.321 1.63969C91.921 1.06369 92.665 0.775693 93.553 0.775693C94.441 0.775693 95.173 1.06369 95.749 1.63969C96.349 2.19169 96.649 2.88769 96.649 3.72769C96.649 4.56769 96.349 5.27569 95.749 5.85169C95.173 6.40369 94.441 6.67969 93.553 6.67969ZM96.037 9.05569V28.9997H90.997V9.05569H96.037ZM111.709 8.76769C114.085 8.76769 116.005 9.52369 117.469 11.0357C118.933 12.5237 119.665 14.6117 119.665 17.2997V28.9997H114.625V17.9837C114.625 16.3997 114.229 15.1877 113.437 14.3477C112.645 13.4837 111.565 13.0517 110.197 13.0517C108.805 13.0517 107.701 13.4837 106.885 14.3477C106.093 15.1877 105.697 16.3997 105.697 17.9837V28.9997H100.657V9.05569H105.697V11.5397C106.369 10.6757 107.221 10.0037 108.253 9.52369C109.309 9.01969 110.461 8.76769 111.709 8.76769ZM130.71 18.9557C130.71 16.9397 131.106 15.1517 131.898 13.5917C132.714 12.0317 133.818 10.8317 135.21 9.99169C136.602 9.15169 138.15 8.73169 139.854 8.73169C141.15 8.73169 142.386 9.01969 143.562 9.59569C144.738 10.1477 145.674 10.8917 146.37 11.8277V2.35969H151.482V28.9997H146.37V26.0477C145.746 27.0317 144.87 27.8237 143.742 28.4237C142.614 29.0237 141.306 29.3237 139.818 29.3237C138.138 29.3237 136.602 28.8917 135.21 28.0277C133.818 27.1637 132.714 25.9517 131.898 24.3917C131.106 22.8077 130.71 20.9957 130.71 18.9557ZM146.406 19.0277C146.406 17.8037 146.166 16.7597 145.686 15.8957C145.206 15.0077 144.558 14.3357 143.742 13.8797C142.926 13.3997 142.05 13.1597 141.114 13.1597C140.178 13.1597 139.314 13.3877 138.522 13.8437C137.73 14.2997 137.082 14.9717 136.578 15.8597C136.098 16.7237 135.858 17.7557 135.858 18.9557C135.858 20.1557 136.098 21.2117 136.578 22.1237C137.082 23.0117 137.73 23.6957 138.522 24.1757C139.338 24.6557 140.202 24.8957 141.114 24.8957C142.05 24.8957 142.926 24.6677 143.742 24.2117C144.558 23.7317 145.206 23.0597 145.686 22.1957C146.166 21.3077 146.406 20.2517 146.406 19.0277ZM158.6 6.67969C157.712 6.67969 156.968 6.40369 156.368 5.85169C155.792 5.27569 155.504 4.56769 155.504 3.72769C155.504 2.88769 155.792 2.19169 156.368 1.63969C156.968 1.06369 157.712 0.775693 158.6 0.775693C159.488 0.775693 160.22 1.06369 160.796 1.63969C161.396 2.19169 161.696 2.88769 161.696 3.72769C161.696 4.56769 161.396 5.27569 160.796 5.85169C160.22 6.40369 159.488 6.67969 158.6 6.67969ZM161.084 9.05569V28.9997H156.044V9.05569H161.084ZM173.876 8.73169C175.364 8.73169 176.672 9.03169 177.8 9.63169C178.928 10.2077 179.816 10.9637 180.464 11.8997V9.05569H185.54V29.1437C185.54 30.9917 185.168 32.6357 184.424 34.0757C183.68 35.5397 182.564 36.6917 181.076 37.5317C179.588 38.3957 177.788 38.8277 175.676 38.8277C172.844 38.8277 170.516 38.1677 168.692 36.8477C166.892 35.5277 165.872 33.7277 165.632 31.4477H170.636C170.9 32.3597 171.464 33.0797 172.328 33.6077C173.216 34.1597 174.284 34.4357 175.532 34.4357C176.996 34.4357 178.184 33.9917 179.096 33.1037C180.008 32.2397 180.464 30.9197 180.464 29.1437V26.0477C179.816 26.9837 178.916 27.7637 177.764 28.3877C176.636 29.0117 175.34 29.3237 173.876 29.3237C172.196 29.3237 170.66 28.8917 169.268 28.0277C167.876 27.1637 166.772 25.9517 165.956 24.3917C165.164 22.8077 164.768 20.9957 164.768 18.9557C164.768 16.9397 165.164 15.1517 165.956 13.5917C166.772 12.0317 167.864 10.8317 169.232 9.99169C170.624 9.15169 172.172 8.73169 173.876 8.73169ZM180.464 19.0277C180.464 17.8037 180.224 16.7597 179.744 15.8957C179.264 15.0077 178.616 14.3357 177.8 13.8797C176.984 13.3997 176.108 13.1597 175.172 13.1597C174.236 13.1597 173.372 13.3877 172.58 13.8437C171.788 14.2997 171.14 14.9717 170.636 15.8597C170.156 16.7237 169.916 17.7557 169.916 18.9557C169.916 20.1557 170.156 21.2117 170.636 22.1237C171.14 23.0117 171.788 23.6957 172.58 24.1757C173.396 24.6557 174.26 24.8957 175.172 24.8957C176.108 24.8957 176.984 24.6677 177.8 24.2117C178.616 23.7317 179.264 23.0597 179.744 22.1957C180.224 21.3077 180.464 20.2517 180.464 19.0277ZM192.658 6.67969C191.77 6.67969 191.026 6.40369 190.426 5.85169C189.85 5.27569 189.562 4.56769 189.562 3.72769C189.562 2.88769 189.85 2.19169 190.426 1.63969C191.026 1.06369 191.77 0.775693 192.658 0.775693C193.546 0.775693 194.278 1.06369 194.854 1.63969C195.454 2.19169 195.754 2.88769 195.754 3.72769C195.754 4.56769 195.454 5.27569 194.854 5.85169C194.278 6.40369 193.546 6.67969 192.658 6.67969ZM195.142 9.05569V28.9997H190.102V9.05569H195.142ZM205.27 13.1957V22.8437C205.27 23.5157 205.426 24.0077 205.738 24.3197C206.074 24.6077 206.626 24.7517 207.394 24.7517H209.734V28.9997H206.566C202.318 28.9997 200.194 26.9357 200.194 22.8077V13.1957H197.818V9.05569H200.194V4.12369H205.27V9.05569H209.734V13.1957H205.27ZM212.063 18.9557C212.063 16.9397 212.459 15.1517 213.251 13.5917C214.067 12.0317 215.159 10.8317 216.527 9.99169C217.919 9.15169 219.467 8.73169 221.171 8.73169C222.659 8.73169 223.955 9.03169 225.059 9.63169C226.187 10.2317 227.087 10.9877 227.759 11.8997V9.05569H232.835V28.9997H227.759V26.0837C227.111 27.0197 226.211 27.7997 225.059 28.4237C223.931 29.0237 222.623 29.3237 221.135 29.3237C219.455 29.3237 217.919 28.8917 216.527 28.0277C215.159 27.1637 214.067 25.9517 213.251 24.3917C212.459 22.8077 212.063 20.9957 212.063 18.9557ZM227.759 19.0277C227.759 17.8037 227.519 16.7597 227.039 15.8957C226.559 15.0077 225.911 14.3357 225.095 13.8797C224.279 13.3997 223.403 13.1597 222.467 13.1597C221.531 13.1597 220.667 13.3877 219.875 13.8437C219.083 14.2997 218.435 14.9717 217.931 15.8597C217.451 16.7237 217.211 17.7557 217.211 18.9557C217.211 20.1557 217.451 21.2117 217.931 22.1237C218.435 23.0117 219.083 23.6957 219.875 24.1757C220.691 24.6557 221.555 24.8957 222.467 24.8957C223.403 24.8957 224.279 24.6677 225.095 24.2117C225.911 23.7317 226.559 23.0597 227.039 22.1957C227.519 21.3077 227.759 20.2517 227.759 19.0277ZM242.437 2.35969V28.9997H237.397V2.35969H242.437Z" fill="black" />
                            <path d="M125.741 29.3357C124.525 29.3357 123.517 28.9677 122.717 28.2317C121.949 27.4637 121.565 26.5197 121.565 25.3997C121.565 24.2797 121.949 23.3517 122.717 22.6157C123.517 21.8477 124.525 21.4637 125.741 21.4637C126.925 21.4637 127.901 21.8477 128.669 22.6157C129.437 23.3517 129.821 24.2797 129.821 25.3997C129.821 26.5197 129.437 27.4637 128.669 28.2317C127.901 28.9677 126.925 29.3357 125.741 29.3357Z" fill="#F43F5E" />
                        </svg>
                        <svg fill="none" viewBox="0 0 64 64" className="block w-5 h-5 md:hidden">
                            <path d="M15.5 49.35C13.0667 49.35 10.8667 48.9333 8.9 48.1C6.96667 47.2667 5.43333 46.0667 4.3 44.5C3.16667 42.9333 2.58333 41.0833 2.55 38.95H10.05C10.15 40.3833 10.65 41.5167 11.55 42.35C12.4833 43.1833 13.75 43.6 15.35 43.6C16.9833 43.6 18.2667 43.2167 19.2 42.45C20.1333 41.65 20.6 40.6167 20.6 39.35C20.6 38.3167 20.2833 37.4667 19.65 36.8C19.0167 36.1333 18.2167 35.6167 17.25 35.25C16.3167 34.85 15.0167 34.4167 13.35 33.95C11.0833 33.2833 9.23333 32.6333 7.8 32C6.4 31.3333 5.18333 30.35 4.15 29.05C3.15 27.7167 2.65 25.95 2.65 23.75C2.65 21.6833 3.16667 19.8833 4.2 18.35C5.23333 16.8167 6.68333 15.65 8.55 14.85C10.4167 14.0167 12.55 13.6 14.95 13.6C18.55 13.6 21.4667 14.4833 23.7 16.25C25.9667 17.9833 27.2167 20.4167 27.45 23.55H19.75C19.6833 22.35 19.1667 21.3667 18.2 20.6C17.2667 19.8 16.0167 19.4 14.45 19.4C13.0833 19.4 11.9833 19.75 11.15 20.45C10.35 21.15 9.95 22.1667 9.95 23.5C9.95 24.4333 10.25 25.2167 10.85 25.85C11.4833 26.45 12.25 26.95 13.15 27.35C14.0833 27.7167 15.3833 28.15 17.05 28.65C19.3167 29.3167 21.1667 29.9833 22.6 30.65C24.0333 31.3167 25.2667 32.3167 26.3 33.65C27.3333 34.9833 27.85 36.7333 27.85 38.9C27.85 40.7667 27.3667 42.5 26.4 44.1C25.4333 45.7 24.0167 46.9833 22.15 47.95C20.2833 48.8833 18.0667 49.35 15.5 49.35ZM43.1638 14.1C46.8304 14.1 50.0471 14.8167 52.8138 16.25C55.6138 17.6833 57.7638 19.7333 59.2638 22.4C60.7971 25.0333 61.5638 28.1 61.5638 31.6C61.5638 35.1 60.7971 38.1667 59.2638 40.8C57.7638 43.4 55.6138 45.4167 52.8138 46.85C50.0471 48.2833 46.8304 49 43.1638 49H30.9638V14.1H43.1638ZM42.9138 43.05C46.5804 43.05 49.4138 42.05 51.4138 40.05C53.4138 38.05 54.4138 35.2333 54.4138 31.6C54.4138 27.9667 53.4138 25.1333 51.4138 23.1C49.4138 21.0333 46.5804 20 42.9138 20H37.9638V43.05H42.9138Z" fill="black" />
                            <path d="M33.3528 49.448C31.7314 49.448 30.3874 48.9573 29.3208 47.976C28.2968 46.952 27.7848 45.6933 27.7848 44.2C27.7848 42.7067 28.2968 41.4693 29.3208 40.488C30.3874 39.464 31.7314 38.952 33.3528 38.952C34.9314 38.952 36.2328 39.464 37.2568 40.488C38.2808 41.4693 38.7928 42.7067 38.7928 44.2C38.7928 45.6933 38.2808 46.952 37.2568 47.976C36.2328 48.9573 34.9314 49.448 33.3528 49.448Z" fill="#F43F5E" />
                        </svg>

                        {"Hero" === active && (
                            <motion.div
                                layoutId="underline"
                                className="absolute bottom-0 left-0 w-full h-2 bg-rose-500 rounded-full border-b-4 border-rose-500 md:bottom-2"
                            />
                        )}
                    </motion.a>

                    <NavItem icon={<BriefcaseIcon />} name="Oferta" active={active} />
                    <NavItem icon={<InformationCircleIcon />} name="Realizacje" active={active} />
                    <NavItem icon={<ShieldCheckIcon />} name="Korzyści" active={active} />
                    <NavItem icon={<MailIcon />} name="Kontakt" active={active} />
                </AnimateSharedLayout>

            </div>
        </nav >
    )
}